# fio-openshift-storage-performance
Deploys and runs kubestr & fio in a pod in a kubernetes environment. 

## How to use
To deploy the test build the kustomization.yaml above. This will build:
1. a job to automatically run the fio jobs in a pv via the attached pvc
2. a persistent pod to both view results of the the pv test and run the test manually on the attached emptyDir
> We need to run the test against the disk (emptyDir) manually because the data in that type of volume is not persistent. 
3. Open a terminal in the persistent pod:
	oc exec -it benchmark-results bin/bash
4. Run the fio tests against the disk storage:
	$ cd /disk/result
	$ /scripts/run-benchmark.sh

Now your test results should be under /pv/result for pv
And disk/result for local storage

There are 2 types of output files generated by the fio-jobs run, standard json output and files ending in .log which can be used with fio2gnu to generate some pretty graphs
 